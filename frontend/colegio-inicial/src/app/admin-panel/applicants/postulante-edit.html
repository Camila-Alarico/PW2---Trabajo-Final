<h2>Editar Postulante</h2>

<form (ngSubmit)="guardarCambios()">
  <div class="mb-3">
    <label class="form-label">Nombre Completo</label>
    <input type="text" class="form-control" [(ngModel)]="postulante.full_name" name="full_name" required>
  </div>

  <div class="mb-3">
    <label class="form-label">Fecha de Nacimiento</label>
    <input type="date" class="form-control" [(ngModel)]="postulante.birth_date" name="birth_date" required>
  </div>

  <div class="mb-3">
    <label class="form-label">Aula</label>
    <select class="form-select" [(ngModel)]="postulante.grade_applied" name="grade_applied" required>
      <option value="1 año">1 año</option>
      <option value="2 años">2 años</option>
      <option value="3 años">3 años</option>
      <option value="4 años">4 años</option>
      <option value="5 años">5 años</option>
    </select>
  </div>

  <div class="mb-3">
    <label class="form-label">DNI</label>
    <input type="text" class="form-control" [(ngModel)]="postulante.dni" name="dni" required>
  </div>

  <!-- Tiene hermanos -->
  <div class="mb-3 form-check">
    <input type="checkbox" class="form-check-input" [(ngModel)]="postulante.has_siblings_in_school" name="has_siblings_in_school" id="checkHermanos">
    <label class="form-check-label" for="checkHermanos">¿Tiene hermanos en la escuela?</label>
  </div>

  <!-- Selección de hermanos -->
  <div class="mb-3" *ngIf="postulante.has_siblings_in_school">
    <label class="form-label">Seleccionar Hermanos</label>
    <select class="form-select" multiple [(ngModel)]="postulante.siblings" name="siblings">
      <option *ngFor="let p of allPostulantes" [value]="p.id">{{ p.full_name }}</option>
    </select>
    <small class="text-muted">Puedes seleccionar varios con Ctrl o Cmd</small>
  </div>

  <div class="mb-3">
    <label class="form-label">ID del Padre</label>
    <input type="number" class="form-control" [(ngModel)]="postulante.parent" name="parent" required>
  </div>

  <button type="submit" class="btn btn-primary">Guardar Cambios</button>
  <button type="button" class="btn btn-secondary ms-2" (click)="volver()">Volver</button>
</form>

<p class="mt-3 text-muted">{{ statusMessage }}</p>
